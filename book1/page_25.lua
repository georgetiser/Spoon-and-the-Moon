-- Code created by Kwik - Copyright: kwiksher.com -- Version: 2.4.6 module(..., package.seeall) function new() 	local menuGroup = display.newGroup() 	local disposeAudios 	local disposeTweens     local song_for_chapter2 = audio.loadStream(audioDir .. "heydiddle64.mp3", system.ResourceDirectory) 	statusreport.debugPrint("----------------"); statusreport.debugPrint(""); statusreport.debugPrint("New Page") 	statusreport.debugPrint("The current page is: " .. _G.kwk_currentPage)     local path = system.pathForFile( "SpoonAndTheMoonPart1.txt", system.DocumentsDirectory )     local file = io.open( path, "w+" )     file:write( _G.kwk_currentPage )     io.close( file )   local drawScreen = function()navigation.DisplayDevelopmentVersion()		menuGroup.navigator = navigation.InsertNavigation{}		local bubble4  		local bubble3  		local bubble2  		local bubble1  		--local PageXCorner  		local BG  		BG = display.newImageRect(imageDir .. "Chapter2Title_Moon.png", 768, 1024 ); 		BG.x = 384; BG.y = 512; BG.alpha = 1; BG.oldAlpha = 1 		menuGroup:insert(BG) 		menuGroup.BG = BG		local onkwkPageCornerTouch = function(event) 			if event.phase=="ended" then  			local myClosure_switch = function()					_G.kwk_currentPage = _G.kwk_menuPage					statusreport.debugPrint("GoToMenu!")					director:changeScene( "page_" .. _G.kwk_menuPage, "overFromTop" )			end 			timerStash.tempTimer = nil 			timerStash.tempTimer = timer.performWithDelay(0, myClosure_switch, 1) 			end 		end 		kwkPageCorner = ui.newButton{ 			defaultSrc= imageDir .."PageCornerGrey.png", 			defaultX = 72, 			defaultY = 80, 			overSrc= imageDir .."PageCornerGrey.png", 			overX = 72, 			overY = 80, 			onRelease=onkwkPageCornerTouch, 			id="kwkPageCornerButton" 		} 		kwkPageCorner.x = 732; kwkPageCorner.y = 984; kwkPageCorner.alpha = 1; kwkPageCorner.oldAlpha = 1 		menuGroup:insert(kwkPageCorner) 		menuGroup.kwkPageCorner = kwkPageCorner				local onkwkBbackTouch = function(event) 			if event.phase=="ended" then			local myClosure_switch = function()					statusreport.debugPrint("GoBack!")					_G.kwk_currentPage = _G.kwk_currentPage - 1					director:changeScene( "page_" .. _G.kwk_currentPage, "moveFromLeft" ) 			end 			timerStash.tempTimer = nil 			timerStash.tempTimer = timer.performWithDelay(0, myClosure_switch, 1) 			end 		end 				bubble1 = display.newImageRect(imageDir .. "p3_bubble1.png", 164, 171 ); 		bubble1.x = 238; bubble1.y = 1297; bubble1.alpha = 1; bubble1.oldAlpha = 1 		menuGroup:insert(bubble1) 		menuGroup.bubble1 = bubble1 		bubble2 = display.newImageRect(imageDir .. "p3_bubble2.png", 78, 81 ); 		bubble2.x = 531; bubble2.y = 1234; bubble2.alpha = 1; bubble2.oldAlpha = 1 		menuGroup:insert(bubble2) 		menuGroup.bubble2 = bubble2 		bubble3 = display.newImageRect(imageDir .. "p3_bubble3.png", 32, 33 ); 		bubble3.x = 461; bubble3.y = 1224; bubble3.alpha = 1; bubble3.oldAlpha = 1 		menuGroup:insert(bubble3) 		menuGroup.bubble3 = bubble3 		bubble4 = display.newImageRect(imageDir .. "p3_bubble4.png", 32, 33 ); 		bubble4.x = 191; bubble4.y = 1224; bubble4.alpha = 1; bubble4.oldAlpha = 1 		menuGroup:insert(bubble4) 		menuGroup.bubble4 = bubble4 		--2 		gtStash.gt_bubble4_359= gtween.new( bubble4, 13, { x = 191, y = -284, rotation = 0, xScale = 1, yScale = 1, alpha=1}, {ease = gtween.easing.linear, repeatCount = math.huge, reflect = false,  delay=5}) 		--2 		gtStash.gt_bubble3_370= gtween.new( bubble3, 13, { x = 461, y = -284, rotation = 0, xScale = 1, yScale = 1, alpha=1}, {ease = gtween.easing.linear, repeatCount = math.huge, reflect = false,  delay=3}) 		--2 		gtStash.gt_bubble2_380= gtween.new( bubble2, 12, { x = 531, y = -260, rotation = 0, xScale = 1, yScale = 1, alpha=1}, {ease = gtween.easing.linear, repeatCount = math.huge, reflect = false,  delay=5}) 		local onEndbubble1_391 = function() 			bubble1.isVisible = false; 			bubble1.x = 238; bubble1.y = 1297; 			bubble1.xScale = 1;bubble1.yScale = 1; 			bubble1.alpha = 1; bubble1.rotation = 0 			bubble1.isVisible = true;  		end 		--1 --1 		gtStash.gt_bubble1_391= gtween.new( bubble1, 12, { x = 259, y = -215, rotation = 0, xScale = 1, yScale = 1, alpha=1}, {ease = gtween.easing.linear, repeatCount = math.huge, reflect = false,  delay=7, onComplete = onEndbubble1_391 }) 
	end
	drawScreen() 	function disposeAudios(event) 		 audio.stop(2); audio.dispose(song_for_chapter2); song_for_chapter2 = nil								end 	function disposeTweens(event) 		cancelAllTweens(); 		cancelAllTimers(); 		cancelAllTransitions(); 	end 	local playIntroSong = function()		audio.play(song_for_chapter2, {  channel=2, loops=-1, fadein=500 } ) 	end	timerStash.newTimer_15185 = timer.performWithDelay(0, playIntroSong, 1) 	return menuGroup end 