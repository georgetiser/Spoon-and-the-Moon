-- Code created by Kwik - Copyright: kwiksher.com -- Version: 2.4.6 module(..., package.seeall)  function new() 	local menuGroup = display.newGroup() 	local disposeTweens 	local path = system.pathForFile( "SpoonAndTheMoonPart3.txt", system.CachesDirectory ) 	local file = io.open( path, "r" ) 	if file then 		local kBookmark = 0		local bookmarkedPage = 0		bookmarkedPage = file:read("*number") 		if type(bookmarkedPage) == "number" and bookmarkedPage >= _G.kwk_menuPage and bookmarkedPage <= _G.kwk_lastPage then kBookmark = 1 end		if _G.kwk_ShowDebugOutput then			statusreport.debugPrint("Bookmark file exists!")			statusreport.debugPrint("Starting page: " .. bookmarkedPage)			statusreport.debugPrint("Is it legit: " .. kBookmark .. " - " .. type(bookmarkedPage))		end		if kBookmark > 0 then			ReturnDestinationPage = bookmarkedPage			ReturnEffect = "overFromBottom"		else			ReturnDestinationPage = _G.kwk_menuPage			ReturnEffect = "overFromTop"					end 		io.close(file) 	end	local drawScreen = function()		navigation.DisplayDevelopmentVersion()		menuGroup.navigator = navigation.InsertNavigation{			customizeMenuButton = {				destinationPage = ReturnDestinationPage,				transitionEffect = ReturnEffect,			},		}		local staranima1			local CreditsButton		local PreviewButton		BG = display.newImageRect(imageDir .. "Book3_TableOfContents.png", 768, 1024 ); 		BG.x = 384; BG.y = 512; BG.alpha = 1; BG.oldAlpha = 1 		menuGroup:insert(BG) 		menuGroup.BG = BG 		if _G.kwk_ShowDebugOutput then			menuGroup.debugbutton = navigation.InsertAButton{				name = "debug button",				category = "navigation button",				imageFile = imageDir .. "debugbutton.png",				x = 600, y = 600,				width = 186, height = 186,				touchSound = audioDir .. "click.mp3",				customEffect = function() _G.kwk_ShowDebugOutput = nil end,				destinationPage = _G.kwk_firstPage }		end		chapter15button = chButton(15, 395, 275, 290, 25)		chapter16button = chButton(16, 395, 305, 290, 25)		chapter17button = chButton(17, 395, 335, 290, 25)		chapter18button = chButton(18, 395, 370, 290, 25)		chapter19button = chButton(19, 395, 405, 290, 25)		chapter20button = chButton(20, 445, 435, 390, 25)		chapter21button = chButton(21, 395, 470, 290, 25)		creditsbutton = chButton(0, 420, 507, 110, 30)		staranima1 = display.newImageRect(imageDir .. "staranima1.png", 16, 16 ); 		staranima1.x = -12; staranima1.y = 101; staranima1.alpha = 1; staranima1.oldAlpha = 1 		menuGroup:insert(staranima1) 		menuGroup.staranima1 = staranima1 		gtStash.gt_staranima1_444= gtween.new( staranima1, 2.5, { x = 871, y = 618, rotation = 0, xScale = 1, yScale = 1, alpha=1}, {ease = gtween.easing.linear, repeatCount = 1, reflect = false,	delay=2}) 	end 	drawScreen() 	return menuGroup end 